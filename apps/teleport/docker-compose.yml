# image: https://gallery.ecr.aws/gravitational/teleport
# docs: https://goteleport.com/docs/management/guides/docker/


version: '3.8'

services:
  teleport:
    image: $APP_REPO:$APP_VERSION
    container_name: $APP_NAME
    ports:
      - '${APP_HTTP_PORT}:3083'
    volumes:
      - teleport_config:/etc/teleport
      - teleport_data:/var/lib/teleport
    depends_on:
      - mysql

networks:
  default:
    name: ${APP_NETWORK}
    external: true

volumes:
  teleport_config:
  teleport_data:
